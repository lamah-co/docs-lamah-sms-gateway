---
title: 'Send Bulk SMS'
description: 'Send SMS messages to multiple recipients at once'
---

## Overview

Send the same SMS message to multiple recipients in a single API call. This is more efficient than sending individual messages when you need to reach multiple people with the same content.

## Endpoint

<CodeGroup>

```bash cURL
curl --request POST \
  "https://sms.lamah.com/api/sms/messages/bulk" \
  --header "Authorization: Bearer YOUR_API_TOKEN" \
  --header "Content-Type: application/json" \
  --data '{
    "message": "Important announcement for all customers!",
    "sender": "YourApp",
    "payment_type": "wallet",
    "receivers": [
      "+1234567890",
      "+1987654321",
      "+1555123456"
    ]
  }'
```

```javascript JavaScript
const response = await fetch('https://sms.lamah.com/api/sms/messages/bulk', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_TOKEN',
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    message: 'Important announcement for all customers!',
    sender: 'YourApp',
    payment_type: 'wallet',
    receivers: [
      '+1234567890',
      '+1987654321',
      '+1555123456'
    ]
  })
});

const data = await response.json();
console.log(data);
```

```python Python
import requests

url = "https://sms.lamah.com/api/sms/messages/bulk"
headers = {
    "Authorization": "Bearer YOUR_API_TOKEN",
    "Content-Type": "application/json"
}
payload = {
    "message": "Important announcement for all customers!",
    "sender": "YourApp",
    "payment_type": "wallet",
    "receivers": [
        "+1234567890",
        "+1987654321",
        "+1555123456"
    ]
}

response = requests.post(url, headers=headers, json=payload)
print(response.json())
```

```php PHP
<?php
$curl = curl_init();

curl_setopt_array($curl, array(
  CURLOPT_URL => 'https://sms.lamah.com/api/sms/messages/bulk',
  CURLOPT_RETURNTRANSFER => true,
  CURLOPT_CUSTOMREQUEST => 'POST',
  CURLOPT_POSTFIELDS => json_encode([
    'message' => 'Important announcement for all customers!',
    'sender' => 'YourApp',
    'payment_type' => 'wallet',
    'receivers' => [
      '+1234567890',
      '+1987654321',
      '+1555123456'
    ]
  ]),
  CURLOPT_HTTPHEADER => array(
    'Authorization: Bearer YOUR_API_TOKEN',
    'Content-Type: application/json'
  ),
));

$response = curl_exec($curl);
curl_close($curl);
echo $response;
?>
```

</CodeGroup>

## Request Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `message` | string | ✅ | The SMS message content to send to all recipients |
| `sender` | string | ✅ | The sender ID (up to 11 characters) |
| `payment_type` | string | ✅ | Payment method: `wallet` or `subscription` |
| `receivers` | array | ✅ | Array of phone numbers in international format |

### Parameter Details

<AccordionGroup>
  <Accordion title="message">
    The text content that will be sent to all recipients.
    
    - **Maximum length**: 160 characters for single SMS, 1530 characters for concatenated SMS
    - **Encoding**: UTF-8 supported for international characters
    - **Consistency**: Same message is sent to all recipients
  </Accordion>
  
  <Accordion title="sender">
    The sender ID that will appear on all recipients' devices.
    
    - **Length**: Maximum 11 characters
    - **Format**: Alphanumeric characters only
    - **Examples**: `YourApp`, `MyCompany`, `Alert123`
  </Accordion>
  
  <Accordion title="payment_type">
    Specifies how the SMS costs will be charged.
    
    - **`wallet`**: Deduct from your account balance
    - **`subscription`**: Use your subscription plan credits
  </Accordion>
  
  <Accordion title="receivers">
    Array of recipient phone numbers.
    
    - **Format**: Each number must include country code (e.g., `+1234567890`)
    - **Limit**: Maximum 1000 recipients per request
    - **Validation**: All numbers are validated before sending
    - **Duplicates**: Duplicate numbers are automatically removed
  </Accordion>
</AccordionGroup>

## Response

### Success Response (200 OK)

```json
{
  "batch_id": "batch_123456789",
  "total_recipients": 3,
  "successful_sends": 3,
  "failed_sends": 0,
  "total_cost": 0.15,
  "balance_remaining": 99.85,
  "messages": [
    {
      "message_id": "msg_123456789",
      "receiver": "+1234567890",
      "status": "sent",
      "cost": 0.05
    },
    {
      "message_id": "msg_123456790",
      "receiver": "+1987654321",
      "status": "sent",
      "cost": 0.05
    },
    {
      "message_id": "msg_123456791",
      "receiver": "+1555123456",
      "status": "sent",
      "cost": 0.05
    }
  ]
}
```

### Response Fields

| Field | Type | Description |
|-------|------|-------------|
| `batch_id` | string | Unique identifier for the bulk send batch |
| `total_recipients` | integer | Total number of recipients |
| `successful_sends` | integer | Number of successfully sent messages |
| `failed_sends` | integer | Number of failed sends |
| `total_cost` | number | Total cost for all messages |
| `balance_remaining` | number | Remaining account balance |
| `messages` | array | Details for each individual message |

### Message Object Fields

| Field | Type | Description |
|-------|------|-------------|
| `message_id` | string | Unique identifier for the individual message |
| `receiver` | string | Recipient's phone number |
| `status` | string | Message status: `sent`, `failed` |
| `cost` | number | Cost for this specific message |
| `error` | string | Error message (only present if status is `failed`) |

## Partial Success Response

If some messages fail to send, you'll receive a partial success response:

```json
{
  "batch_id": "batch_123456789",
  "total_recipients": 3,
  "successful_sends": 2,
  "failed_sends": 1,
  "total_cost": 0.10,
  "balance_remaining": 99.90,
  "messages": [
    {
      "message_id": "msg_123456789",
      "receiver": "+1234567890",
      "status": "sent",
      "cost": 0.05
    },
    {
      "message_id": "msg_123456790",
      "receiver": "+1987654321",
      "status": "sent",
      "cost": 0.05
    },
    {
      "receiver": "+1555123456",
      "status": "failed",
      "error": "Invalid phone number format",
      "cost": 0
    }
  ]
}
```

## Error Responses

### 400 Bad Request

```json
{
  "error": "Invalid request data",
  "code": "INVALID_REQUEST",
  "details": {
    "receivers": "Must contain at least 1 and at most 1000 phone numbers"
  }
}
```

### 401 Unauthorized

```json
{
  "error": "Invalid API token",
  "code": "UNAUTHORIZED"
}
```

### 402 Payment Required

```json
{
  "error": "Insufficient balance for bulk send",
  "code": "INSUFFICIENT_BALANCE",
  "details": {
    "required": 0.15,
    "available": 0.08
  }
}
```

## Limits and Considerations

<Warning>
  **Recipient Limit**: Maximum 1000 recipients per bulk send request. For larger lists, split into multiple requests.
</Warning>

<Tip>
  **Cost Efficiency**: Bulk sending is more cost-effective than individual sends for the same message to multiple recipients.
</Tip>

### Rate Limits

- **Bulk SMS Endpoint**: 10 requests per minute
- **Recipients per minute**: 10,000 total recipients across all bulk requests

### Best Practices

1. **Validate phone numbers** before adding to the receivers array
2. **Remove duplicates** to avoid unnecessary charges
3. **Split large lists** into batches of 1000 or fewer
4. **Monitor batch status** using the returned `batch_id`
5. **Handle partial failures** gracefully in your application

### Batch Processing Example

<CodeGroup>

```javascript Batch Processing
const sendBulkSMS = async (message, sender, allReceivers) => {
  const batchSize = 1000;
  const batches = [];
  
  // Split receivers into batches
  for (let i = 0; i < allReceivers.length; i += batchSize) {
    const batch = allReceivers.slice(i, i + batchSize);
    batches.push(batch);
  }
  
  const results = [];
  
  // Send each batch
  for (const receivers of batches) {
    try {
      const response = await fetch('https://sms.lamah.com/api/sms/messages/bulk', {
        method: 'POST',
        headers: {
          'Authorization': 'Bearer YOUR_API_TOKEN',
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          message,
          sender,
          payment_type: 'wallet',
          receivers
        })
      });
      
      const result = await response.json();
      results.push(result);
      
      // Wait between batches to respect rate limits
      await new Promise(resolve => setTimeout(resolve, 6000));
      
    } catch (error) {
      console.error('Batch send failed:', error);
    }
  }
  
  return results;
};
```

```python Batch Processing
import requests
import time

def send_bulk_sms(message, sender, all_receivers):
    batch_size = 1000
    batches = [all_receivers[i:i + batch_size] 
               for i in range(0, len(all_receivers), batch_size)]
    
    results = []
    
    for receivers in batches:
        try:
            response = requests.post(
                'https://sms.lamah.com/api/sms/messages/bulk',
                headers={
                    'Authorization': 'Bearer YOUR_API_TOKEN',
                    'Content-Type': 'application/json'
                },
                json={
                    'message': message,
                    'sender': sender,
                    'payment_type': 'wallet',
                    'receivers': receivers
                }
            )
            
            result = response.json()
            results.append(result)
            
            # Wait between batches to respect rate limits
            time.sleep(6)
            
        except Exception as error:
            print(f"Batch send failed: {error}")
    
    return results
```

</CodeGroup>
