---
title: 'Authentication Guide'
description: 'Complete guide to authenticating with the Lamah SMS API'
---

## Overview

The Lamah SMS API uses Bearer token authentication for all requests. This guide covers everything you need to know about obtaining, using, and managing your API tokens securely.

## Getting Your API Token

<Steps>
  <Step title="Create Account">
    Sign up for a Lamah account at [https://sms.lamah.com](https://sms.lamah.com)
  </Step>
  <Step title="Create Project">
    Navigate to the Projects section and create a new project
  </Step>
  <Step title="Generate Token">
    Copy the API token from your project settings
  </Step>
  <Step title="Secure Storage">
    Store your token securely using environment variables
  </Step>
</Steps>

## Using Your Token

Include your API token in the `Authorization` header of every request:

```http
Authorization: Bearer YOUR_API_TOKEN
```

<CodeGroup>

```bash cURL
curl --request GET \
  "https://sms.lamah.com/api/project/details" \
  --header "Authorization: Bearer YOUR_API_TOKEN"
```

```javascript JavaScript
const headers = {
  'Authorization': 'Bearer YOUR_API_TOKEN',
  'Content-Type': 'application/json'
};

fetch('https://sms.lamah.com/api/project/details', { headers });
```

```python Python
headers = {
    'Authorization': 'Bearer YOUR_API_TOKEN',
    'Content-Type': 'application/json'
}

requests.get('https://sms.lamah.com/api/project/details', headers=headers)
```

</CodeGroup>

## Security Best Practices

<CardGroup cols={2}>
  <Card title="Environment Variables" icon="shield">
    Store tokens in environment variables, never in code
  </Card>
  <Card title="Rotate Regularly" icon="refresh">
    Generate new tokens periodically for security
  </Card>
  <Card title="Limit Scope" icon="lock">
    Use project-specific tokens with minimal required permissions
  </Card>
  <Card title="Monitor Usage" icon="eye">
    Regularly monitor API usage for suspicious activity
  </Card>
</CardGroup>

## Token Management

### Environment Variables

<CodeGroup>

```bash .env
LAMAH_API_TOKEN=your_actual_token_here
LAMAH_BASE_URL=https://sms.lamah.com
```

```javascript Node.js
const apiToken = process.env.LAMAH_API_TOKEN;
if (!apiToken) {
  throw new Error('LAMAH_API_TOKEN environment variable is required');
}
```

```python Python
import os
from dotenv import load_dotenv

load_dotenv()
api_token = os.getenv('LAMAH_API_TOKEN')
if not api_token:
    raise ValueError('LAMAH_API_TOKEN environment variable is required')
```

</CodeGroup>

### Token Validation

Test your token with a simple API call:

<CodeGroup>

```javascript Validate Token
const validateToken = async (token) => {
  try {
    const response = await fetch('https://sms.lamah.com/api/project/details', {
      headers: { 'Authorization': `Bearer ${token}` }
    });
    
    if (response.ok) {
      console.log('✅ Token is valid');
      return true;
    } else {
      console.log('❌ Token is invalid');
      return false;
    }
  } catch (error) {
    console.log('❌ Network error:', error.message);
    return false;
  }
};
```

```python Validate Token
def validate_token(token):
    try:
        response = requests.get(
            'https://sms.lamah.com/api/project/details',
            headers={'Authorization': f'Bearer {token}'}
        )
        
        if response.ok:
            print('✅ Token is valid')
            return True
        else:
            print('❌ Token is invalid')
            return False
    except Exception as error:
        print(f'❌ Network error: {error}')
        return False
```

</CodeGroup>

## Common Authentication Errors

### 401 Unauthorized

```json
{
  "error": "Invalid API token",
  "code": "UNAUTHORIZED"
}
```

**Solutions:**
- Verify your token is correct
- Check the Authorization header format
- Ensure the token hasn't expired

### 403 Forbidden

```json
{
  "error": "Insufficient permissions",
  "code": "ACCESS_DENIED"
}
```

**Solutions:**
- Verify your project has access to the endpoint
- Check if your account has the required permissions
- Contact support if you believe this is an error

## SDK Examples

### JavaScript/Node.js SDK

```javascript
class LamahSMS {
  constructor(apiToken) {
    this.apiToken = apiToken;
    this.baseUrl = 'https://sms.lamah.com';
  }

  async request(endpoint, options = {}) {
    const url = `${this.baseUrl}${endpoint}`;
    const config = {
      headers: {
        'Authorization': `Bearer ${this.apiToken}`,
        'Content-Type': 'application/json',
        ...options.headers
      },
      ...options
    };

    const response = await fetch(url, config);
    
    if (!response.ok) {
      const error = await response.json();
      throw new Error(`API Error: ${error.error}`);
    }

    return response.json();
  }

  async sendSMS(messageData) {
    return this.request('/api/sms/messages', {
      method: 'POST',
      body: JSON.stringify(messageData)
    });
  }
}

// Usage
const sms = new LamahSMS(process.env.LAMAH_API_TOKEN);
```

### Python SDK

```python
import requests
import os

class LamahSMS:
    def __init__(self, api_token=None):
        self.api_token = api_token or os.getenv('LAMAH_API_TOKEN')
        self.base_url = 'https://sms.lamah.com'
        
        if not self.api_token:
            raise ValueError('API token is required')

    def _request(self, endpoint, method='GET', data=None):
        url = f'{self.base_url}{endpoint}'
        headers = {
            'Authorization': f'Bearer {self.api_token}',
            'Content-Type': 'application/json'
        }
        
        response = requests.request(method, url, headers=headers, json=data)
        
        if not response.ok:
            error = response.json()
            raise Exception(f"API Error: {error.get('error')}")
        
        return response.json()

    def send_sms(self, message_data):
        return self._request('/api/sms/messages', 'POST', message_data)

# Usage
sms = LamahSMS()
```

## Rate Limiting

The API includes rate limiting to ensure fair usage:

- **SMS Endpoints**: 100 requests per minute
- **OTP Endpoints**: 10 requests per minute per phone number
- **Other Endpoints**: 1000 requests per minute

Rate limit headers are included in responses:

```http
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1640995200
```

## Troubleshooting

<AccordionGroup>
  <Accordion title="Token not working after generation">
    Wait a few minutes after generating a new token, as there may be a brief propagation delay.
  </Accordion>
  
  <Accordion title="Intermittent authentication failures">
    Check if you're hitting rate limits or if there are network connectivity issues.
  </Accordion>
  
  <Accordion title="Token works in testing but not production">
    Ensure you're using the correct token for your production environment and that environment variables are properly set.
  </Accordion>
</AccordionGroup>

## Next Steps

Once you have authentication working:

<CardGroup cols={2}>
  <Card title="Send Your First SMS" icon="message" href="/quickstart">
    Follow our quickstart guide to send your first message
  </Card>
  <Card title="Explore API Endpoints" icon="code" href="/api-reference/introduction">
    Browse all available API endpoints and features
  </Card>
</CardGroup>
